# f25-animals-api
Simple CRUD API for Animal Objects with JPA (Hibernate)

### Version
1.0.0

### Live Demo Links
https://uncg-my.sharepoint.com/:v:/g/personal/chpierce2_uncg_edu/EY4TUC4hwoRGqg17c4uFZ5MBKqcH9o9n-wJQejPQvjo1AQ](https://uncg-my.sharepoint.com/:v:/g/personal/chpierce2_uncg_edu/IQCOE1AuIcKERqoNe3OLhWeTAXPjyB7MaZRwrNiuM_3arZU?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0NvcHkifX0&e=41fDHE)

https://uncg-my.sharepoint.com/:v:/g/personal/chpierce2_uncg_edu/IQBe2_5F54NhQK9rpywySJ75ARE62Way7jqtyjdLX4d0xlY?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0NvcHkifX0&e=Mx7ZpM

## Installation
- Get the project:
    - Clone:
        ```
        git clone https://github.com/c-pierce-1/Assignment-3.git
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with JDK 21.
- [Dependencies](https://github.com/c-pierce-1/Assignment-3/blob/main/pom.xml) include Spring Web, JPA, and PostgreSQL.
- [`/src/main/resources/application.properties`](https://github.com/c-pierce-1/Assignment-3/blob/main/src/main/resources/application.properties) contains the database configuration.
  - You MUST have the PostgreSQL database running before running the project.
  - Update `spring.datasource.url` with your database connection string from Neon.tech (or local DB).

- Build and run the main class. A new table for animals should be created automatically in the database.

---

## API Endpoints
Base URL: [`http://localhost:8080/animals`](http://localhost:8080/animals)

---

### 1. GET `/` 
Gets a list of all animals in the database.

#### Response - JSON array of animal objects:
```json

  {
    "animalId": 1,
    "name": "Mike",
    "age": 3,
    "animalType": "Dog"
  },
  {
    "animalId": 2,
    "name": "Luna",
    "age": 2,
    "animalType": "Cat"
  }
```


### 2. [`/{animalId}`](http://localhost:8080/animals/1) (GET)
Gets an individual animal in the system. Each animal is identified by a numeric `animalId`

#### Parameters
- Path Variable: `animalId` &lt;Long &gt; - REQUIRED

#### Response - A single animal

```json
{
  "animalId": 1,
  "name": "Mike",
  "age": 3,
  "animalType": "Dog"
}
```


### 3. [`/name`](http://localhost:8080/animals/name?key={name}) (GET)
Gets a list of animals with a name that contains the given string.

#### Parameters
- query parameter: `key` &lt; String &gt; - REQUIRED

#### Response - A JSON array of animal objects with a specific name.

```json
[
  {
    "animalId": 1,
    "name": "Mike",
    "age": 3,
    "animalType": "Dog"
  }
]

```

### 4. [`/age/{age}`](http://localhost:8080/animals/age/{age}) (GET)
Gets a list of animals for a named age.

#### Parameters
- path variable: `age` &lt; Integer &gt; - REQUIRED

#### Response - A JSON array of specific age animal objects.

```json
[
  {
    "animalId": 2,
    "name": "Luna",
    "age": 2,
    "animalType": "Cat"
  }
]

```
### 5. [`/type/{animalType}`](http://localhost:8080/animals/type/{animalType}) (GET)
Gets a list of animals with a specific animalType.

#### Parameters
- query parameter: `animalType` &lt; String &gt; - REQUIRED

#### Response - A JSON array of matching animalType animal objects.

```json
[
  {
    "animalId": 1,
    "name": "Mike",
    "age": 3,
    "animalType": "Dog"
  },
  {
    "animalId": 2,
    "name": "John",
    "age": 4,
    "animalType": "Dog"
  }
]

```
### 6. [`/`](http://localhost:8080/animals) (POST)
Create  a new animal entry

#### Request Body
An animal object. Note the object does not include an ID as this is autogenerated.
```json
{
  "name": "Charlie",
  "age": 1,
  "animalType": "Rabbit"
}

```
#### Response - The newly created animal.

```json
{
  "animalId": 3,
  "name": "Charlie",
  "age": 1,
  "animalType": "Rabbit"
}

```

### 7. [`/{animalId}`](http://localhost:8080/animals/3) (PUT)
Update an existing animal.

#### Parameters
- Path Variable: `animalId` &lt;integer&gt; - REQUIRED

#### Request Body
A animal object with the updates.
```json
{
  "name": "Charlie Updated",
  "age": 2,
  "animalType": "Rabbit"
}

```
#### Response - the updated animal object.
```json
{
  "animalId": 3,
  "name": "Charlie Updated",
  "age": 2,
  "animalType": "Rabbit"
}

```

### 8. [`/{animalId}`](http://localhost:8080/animals/3) (DELETE)
Delete an existing animal.

#### Parameters
- Path Variable: `animalId` &lt;integer&gt; - REQUIRED

#### Response - the updated list of animals.
```json
[
  {
    "animalId": 1,
    "name": "Mike",
    "age": 3,
    "animalType": "Dog"
  },
  {
    "animalId": 2,
    "name": "Luna",
    "age": 2,
    "animalType": "Cat"
  }
]

```
